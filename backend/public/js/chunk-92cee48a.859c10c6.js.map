{"version":3,"sources":["webpack:///./src/services/tagService.js","webpack:///./src/views/Profile.vue","webpack:///./src/views/Profile.vue?094a"],"names":["addTag","tagObj","httpService","post","updateTag","put","_id","getTagById","tagId","get","getTagByIdForScan","getUserTags","userId","removeTag","delete","getAllTags","class","_createElementVNode","_createElementBlock","$setup","name","_hoisted_3","_toDisplayString","email","address","phoneNumber","_hoisted_6","_Fragment","_renderList","tag","key","href","status","toLowerCase","petName","src","image","productDetails","_hoisted_12","_createVNode","_component_ProgressSpinner","setup","userStore","useUserStore","storeToRefs","loggedUser","userTags","ref","value","tagService","res","console","log","$subscribe","mutation","state","onMounted","__exports__","render"],"mappings":"mKAYeA,E,gGAAf,WAAsBC,GAAtB,iGACiBC,OAAYC,KAAK,MAAOF,GADzC,mF,wBAGA,SAASG,EAAUH,GACf,OAAOC,OAAYG,IAAZ,mBAA4BJ,EAAOK,KAAOL,GAGrD,SAASM,EAAWC,GAChB,OAAON,OAAYO,IAAZ,cAAuBD,IAElC,SAASE,EAAkBF,GACvB,OAAON,OAAYO,IAAZ,mBAA4BD,IAGvC,SAASG,EAAYC,GACjB,OAAOV,OAAYO,IAAZ,mBAA4BG,IAGvC,SAASC,EAAUL,GACf,OAAON,OAAYY,OAAZ,cAA0BN,IAGrC,SAASO,IACL,OAAOb,OAAYO,IAAI,OAjCZ,QACXT,SACAI,YACAG,aACAM,YACAE,aACAJ,cACAD,sB,4ECP6BM,MAAM,gB,GAC5BA,MAAM,a,EACTC,gCAA2B,MAAvBD,MAAM,SAAQ,QAAI,G,GACjBA,MAAM,a,GAORA,MAAM,a,EACTC,gCAA8B,MAA1BD,MAAM,SAAQ,WAAO,G,GACpBA,MAAM,a,GACJA,MAAM,a,0JAdnBE,gCA6BM,YA5BOC,QA4BP,EA5BOA,6BAAYC,+BAAvBF,gCAwBM,MAxBN,EAwBM,CAvBJD,gCAQM,MARN,EAQM,CAPJI,EACAJ,gCAKM,MALN,EAKM,CAJJA,gCAAqC,UAAjC,UAAOK,6BAAGH,aAAWC,MAAI,GAC7BH,gCAAsC,UAAlC,UAAOK,6BAAGH,aAAWI,OAAK,GAC9BN,gCAA0C,UAAtC,YAASK,6BAAGH,aAAWK,SAAO,GAClCP,gCAAmD,UAA/C,iBAAcK,6BAAGH,aAAWM,aAAW,OAG/CR,gCAaM,MAbN,EAaM,CAZJS,EACAT,gCAUM,MAVN,EAUM,CATJA,gCAQM,MARN,EAQM,6BAPJC,gCAMIS,cAAA,KAAAC,wBANaT,YAAQ,SAAfU,G,gCAAVX,gCAMI,KANwBY,IAAKD,EAAIvB,IAAMyB,KAAI,cAASF,EAAIvB,MAA5D,CACEW,gCAIU,WAJDD,MAAK,6BAAC,WAAmBa,EAAIG,OAAOC,iBAA7C,CACEhB,gCAA0B,UAAAK,6BAAnBO,EAAIK,SAAO,GAClBjB,gCAA0C,OAArCD,MAAM,YAAamB,IAAKN,EAAIO,OAAjC,UACAnB,gCAAyD,OAApDD,MAAM,YAAamB,IAAKN,EAAIQ,eAAeD,OAAhD,WAHF,IADF,wBAdR,yBAyBAlB,gCAEM,MAAAoB,EAAA,CADJC,yBAAmBC,Q,gEAWV,GACbC,MADa,WAEX,IAAMC,EAAYC,iBAElB,EAAuBC,eAAYF,GAA3BG,EAAR,EAAQA,WAEFC,EAAWC,iBAAI,MAEfpC,EAAU,yDAAI,uGACbkC,EAAWG,MADE,iEAEAC,OAAWtC,YAAYkC,EAAWG,MAAM1C,KAFxC,cAEZ4C,EAFY,OAGlBC,QAAQC,IAAIF,GACZJ,EAASE,MAAQE,EAJC,kBAKXA,GALW,2CAAJ,qDAiBhB,OATAR,EAAUW,YAAW,SAACC,EAAUC,GAC9BJ,QAAQC,IAAI,gBAAiBP,EAAWG,OACxCrC,OAGF6C,uBAAS,wCAAC,8GACF7C,IADE,4CAIH,CACLmC,WACAD,aACAH,e,qBC9DN,MAAMe,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/chunk-92cee48a.859c10c6.js","sourcesContent":["import httpService from './httpService';\r\n\r\nexport default {\r\n    addTag,\r\n    updateTag,\r\n    getTagById,\r\n    removeTag,\r\n    getAllTags,\r\n    getUserTags,\r\n    getTagByIdForScan\r\n};\r\n\r\nasync function addTag(tagObj) {\r\n    return await httpService.post('tag', tagObj);\r\n}\r\nfunction updateTag(tagObj) {\r\n    return httpService.put(`tag/edit/${tagObj._id}`, tagObj);\r\n}\r\n\r\nfunction getTagById(tagId) {\r\n    return httpService.get(`tag/${tagId}`);\r\n}\r\nfunction getTagByIdForScan(tagId) {\r\n    return httpService.get(`tag/scan/${tagId}`);\r\n}\r\n\r\nfunction getUserTags(userId){\r\n    return httpService.get(`tag/user/${userId}`)\r\n}\r\n\r\nfunction removeTag(tagId) {\r\n    return httpService.delete(`tag/${tagId}`);\r\n}\r\n\r\nfunction getAllTags() {\r\n    return httpService.get('tag');\r\n}\r\n","<template>\r\n  <div>\r\n    <div v-if=\"loggedUser?.name\" class=\"user-profile\">\r\n      <div class=\"container\">\r\n        <h1 class=\"title\">Info</h1>\r\n        <div class=\"user-info\">\r\n          <h1>Owner: {{ loggedUser.name }}</h1>\r\n          <h2>Email: {{ loggedUser.email }}</h2>\r\n          <h2>Adrress: {{ loggedUser.address }}</h2>\r\n          <h2>Phone Number: {{ loggedUser.phoneNumber }}</h2>\r\n        </div>\r\n      </div>\r\n      <div class=\"container\">\r\n        <h1 class=\"title\">My Tags</h1>\r\n        <div class=\"user-tags\">\r\n          <div class=\"tags-list\">\r\n            <a v-for=\"tag in userTags\" :key=\"tag._id\" :href=\"`tag/${tag._id}`\">\r\n              <article class=\"tag-card\" :class=\"tag.status.toLowerCase()\">\r\n                <h1>{{ tag.petName }}</h1>\r\n                <img class=\"dog-image\" :src=\"tag.image\" />\r\n                <img class=\"tag-image\" :src=\"tag.productDetails.image\" />\r\n              </article>\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div v-else>\r\n      <ProgressSpinner />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted } from \"vue\";\r\nimport { useUserStore } from \"../store/useUser\";\r\nimport { storeToRefs } from \"pinia\";\r\nimport tagService from \"../services/tagService\";\r\n\r\nexport default {\r\n  setup() {\r\n    const userStore = useUserStore();\r\n\r\n    const { loggedUser } = storeToRefs(userStore);\r\n\r\n    const userTags = ref(null);\r\n\r\n    const getUserTags = async () => {\r\n      if (!loggedUser.value) return;\r\n      const res = await tagService.getUserTags(loggedUser.value._id);\r\n      console.log(res);\r\n      userTags.value = res;\r\n      return res;\r\n    };\r\n\r\n    userStore.$subscribe((mutation, state) => {\r\n      console.log(\"user mutataed\", loggedUser.value);\r\n      getUserTags();\r\n    });\r\n\r\n    onMounted(async () => {\r\n      await getUserTags();\r\n    });\r\n\r\n    return {\r\n      userTags,\r\n      loggedUser,\r\n      userStore,\r\n    };\r\n  },\r\n};\r\n</script>","import { render } from \"./Profile.vue?vue&type=template&id=99cc0b80\"\nimport script from \"./Profile.vue?vue&type=script&lang=js\"\nexport * from \"./Profile.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\אייבורי\\\\Desktop\\\\Lostie\\\\frontend\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}